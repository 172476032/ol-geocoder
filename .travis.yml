sudo: required

dist: trusty

language: node_js

node_js:
  - '8'

cache:
  bundler: true
  directories:
    - node_modules

env:
  - SAUCE_USERNAME=jonataswalker

addons:
  chrome: stable
  jwt:
    secure: SwhA++dS0ciEwRcbzUzGbrVDPq0zvcaGxL39oajtt0aUDh18jcFPyWg2cOQPgI+5s2WqNoC+ZnAmx6jJbNUSmrBjia+WEuSYFzg7Bxs6dOmNu5whYfyWca/y9SlddsEpZywdlpY+Ak5loizctq4FI9FMN7I5hEIcXO5LJIfAtLwNCoLSXfPV99cwNCF631I4Rm2QYfZKbYIwDEhib2XxYajEuAObbV0fflXWzrZIMjSpAOQ+CEhWk38NkiL8lbDjSvpK5C8qz5i6MxRaI2sxYTusvXCss2TRiylzKnrQbTPbpVd8I/Cuv4uJtKg9k4IkI8DcDwkxRVhFemnZkgcrHqQ0s5SEmhZmvm9tam3ak3f8Srm+jjLaVR7EqvZj5SfzH+jOPUW7lJ1A1rT0rqhG8SirLkwVKhYUYjUhixrT+hAct12F3w+4s5+q9cKO40ZKQsU7/ND0H62YLETnGNWkS8ke90RaOr59aUJpWCAB+fePEifFA6UTABq/u6SwK5FzqApBzNXm4Qpc1gRnDQUjiRwpScrCmfPVrE6AYov4cKiPyHAOY26H0+rO8I9BPOJ/6S82lJQYUcWXIGgFI2UX87AmOv/ofYe80vggAkr8kyuBirGYYxxruFaBlaiPPTEAM7XTl1jSJjT6bkfBHCAHClY8A18Vykwl6CksWbhOkTM=
    secure: bpwoGtO1c5X9RnkTYCH1oUDdhG7Av2Y2LMCvZG4wN6hBfSzUmqI1GUnkm41lUMw0WO3+WjCHr4AfTtJvEsSJAGw6ev3SRC3rTTn1R+wkArxoIdCF6h3GJDKcDExuAMwomcFjYoZFJE5Kb1LSNGhWglZA8eCGx9JY/9eBPZAfRKOquiKihtj5Tyi5rKEEiw6nLCH3LM5KA2Gxq3vC25V31sHEtiAXzmIcZXwKEo7EVvD27Vw1wRqKKRD0HyJFLDOJCHpyDX0P1r6r0E5VnYBaKX5FHLteW3wvWUQyoKjYzKK/F23YlNwzL7zOm4EmWKD3qIAea7tfRlrcRIQla8Rk9g0EiXMzu2VBujYb/wagrwNntHb07W5OUeh3b5kCAJDPEWdaY6xqAUcaFORULFLJwyEK8UEnAIe6EWR2OnJjtKSJBuKoAZNciA8fDWFv72F1BqFlCcfXYkhnu+A/swnIDsY0igoRpjX9N0DBYwMxc49XPvx8XCAW5OPS7qaUFptVM/3jelBvbcPnO9z1lqAYJCav1s148KbmF4QeOv7iqTP8+ra1DjMNMMF64g2EX3rLp7S/2LVnhidvrS1Z7cnJ7soiDekWCPLed3aC0Dg1GDSdafR4KNcryn4P8n58bPgQbzmXBrIHhM2Ws+jO3spCYyHjFwYqnxXOYTgz9s+dP2M=
    secure: P+QjIQWUPpC3oH+75S7r7+pEvsDoRimEmzWupdTrEWaYwWUB/AwSN3vLtPrQ2DkAjSp/tzz1xbhCdW1LClLvno0yXSgdKyuYzhxptq+ee2dNejRUklU9sW1UabgV9qL2yK6COJBt7TPtzeWjfo8lz62g4czIdz/HofQ/S+If+L2UU4UOeJvfPZfdqLR+CrfbWpfoy7kQO7/Gt3WndZq/UvdEuu1qnfPcGC4vqcZOxdtTRhBitK4V7Kd4zjU/bp/yt77ezqzxgUw5NMum+jO+Hud5/9DsKDqIbCAKoP0w4FOVgxQeNCBFdWSonVwivK9lD+tdKMA3VGcoKOvblKUZLo0TwoB13QVdbqmz5IxuERvTrInlYC8ZYH2KxPJoVjpeEuqXfzU3l5PxZnrywChQp2dlj//X+eWM1r2smFiLmycNpnZNjFkHYHBiaX62Jd2DqqsNzNHKecBb4lngAcN7nluTS/PcQ1CJp+3Pp+HVmRMJXzU62aM52/irnvOTUE/TQTtM59A15sM8gJkRQe3DzJizKM+xHSgHWeq/fN3MVaeiVEOGtQBLWNVB51f5ZGGgeqF0wumDDoFIf4cewLoOpCv5J65+uFsI6CaEViBSobDczNXSB3k/sEjW/+O9Y9NGTcarEpDQww51c3EUEX1DYeUG5kCvKnmxIMfFTX3HNkw=
    secure: FLtYD5b3IzJGskGeGxX4KC8lecOF5Ye5Y+1iVsDOayywjBk3/JjrEzOJdkyvS+9u2VT0g3JjbCJFuOSSWDaWlVyL3IMqylbH0iLDvV3xVRDdT52U9EDwokQGXEQr968i/Dz17+d2ZTAx0g6A4DCSz4mic0bOFJJjcbY6MJTtANQz5LRIl2hcR9B3uu7AwFVXG10J84DcQoFfdUbYie5JCl3chHQOJ2mh1p+YaOWUNpT97pcrQNwZn7E0VYg5Cxe/GhWiUlDYrmZk273hBaSggo57f5lMkWU9zbXa7qiPvb1xnGEvVEwrnv7JMokJnBjIJ1YA0rl/frdkTJBjj6IQk0GTUHi6vWWNHyKeNT0KSE7m6tiZHxii6PunxFzsOpmlIjG0KDe4jrqi+tmbT0rUaPZtYXf7benwP6OwnmcFNZ7oiDjzmSMLmx9Ri8KiIcl3DMzv/4S/Z1AWaYBj+AFSHzMiBap4N1ocazzsr5RaMwZ8KDHVWEZGeYIC1HBVyJ6V2dlLtVxB33s7b2l8cpjfYamR32xnMIVO5I0Z+TJz3rMOaCJa677UTy29rard/awPK+nyIvriVgHwilR9+U7+jiS/WoJBaTrcdbQTCo3WNV7qRUE8r3dK/O2UNEo7UPbYlI3s1JSrg0vp4xwQw3h7iyqE3VCCf/f3ALW5ecrppbw=
    secure: eH6sMUAbc+UQpNjvvpdhtpIpVFZ3DbhmzWuS4nZiAsWjjchjis3YgtmnDDbDCroQRvoN2X+7qAfHkrgL1KVB3OwxnyvV+Tzt0WyDceyvjNRgq0eDs/mBpEksWqa6CQ4IQK8M/NackPj/NiTdtaxCkVaWaLDSYAbRYxfWAPMMRal+0zNZ8Gn1nwFlyM7/MIXFFBPV7/xv36XZVr0qV7c4qMMlQTJOxS9wmSmaqlvf7yvHPFH/B0v8Xwfyg21UTUHeVLi9LSCU4Aks4FzLcOQ8OoGvijDbREsD2NTpLkLfZCUliUBwthUSWg5tsbqzN4qzYp6AX97fJieH109VX0dnKQZ4VuXDANmIn6jTkF1e+gEBEa6NIsoejw/8ca9wl9cwQPjWllDONBTQnKSfD1NZ2kqd+s/l4GDFIANUjxqr96NvUDRIeS5qCKjzxGkRNeB2iBGSfD0ORT9MhP0WH6V7vYvvMvE9bRnFBEkAl4Y2k65eVWv3+Lq5jbeO63kZxHqF7HGbO/hyg06izhAizmSGfWWJlVK4NFsCmEc/vxCS8rG2LIOJe5BKceCWTBLriPoDk33VvMoyUFTCvHnm7Yff5IJrGnvqVL1VP2I2cBnl+kvDkO8iVlhwmctVjnOQkuEm5QSb/rJLaWL/p5QFC0Ju+uMy8DrddHUa9MP56xRVI6c=

before_install:
  - stty cols 80
  - sudo apt-get -qq update
  - sudo apt-get install -y libcairo2-dev libjpeg8-dev libpango1.0-dev libgif-dev build-essential g++
  - sudo apt-get install -y fluxbox
  - npm i -g npm@5

before_script:
  - export DISPLAY=:99.0
  - sh -e /etc/init.d/xvfb start
  - sleep 3
  - fluxbox >/dev/null 2>&1 &

script: npm run ci

branches:
  only:
    - master
