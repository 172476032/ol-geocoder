#!/bin/bash

DIR_SRC='./src'
DIR_OUT='.'
CSS_SRC_NAME='ol3-geocoder.css'
JS_SRC_NAME='ol3-geocoder.js'
JS_MIN_NAME='ol3-geocoder.min.js'


JS_SRC_FILE="$DIR_SRC/$JS_SRC_NAME"
JS_COMBINED_FILE="$DIR_OUT/$JS_SRC_NAME"
JS_COMBINED_FILE_MIN="$DIR_OUT/$JS_MIN_NAME"

CSS_SRC_FILE="$DIR_SRC/$CSS_SRC_NAME"
CSS_COMBINED_FILE="$DIR_OUT/$CSS_SRC_NAME"

#clear the files
> $CSS_COMBINED_FILE
> $JS_COMBINED_FILE
> $JS_COMBINED_FILE_MIN

cp "$CSS_SRC_FILE" "$CSS_COMBINED_FILE"
cp "$JS_SRC_FILE" "$JS_COMBINED_FILE"

#compress it
uglifyjs -o $JS_COMBINED_FILE_MIN $JS_COMBINED_FILE
